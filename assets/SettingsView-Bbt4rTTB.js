import{g as k}from"./prefix-BG0CGa6G.js";import{d as x,r as c,o as y,i as I,g as C,c as n,a as e,t as m,f as d,w as S,j as V,v as A,l as B,k as h,b as s,h as D,p as M,m as N,_ as $}from"./index-BWFvY-3L.js";const r=o=>(M("data-v-2d4fe8b3"),o=o(),N(),o),E={key:0},j=r(()=>e("h2",{id:"user"},"用户账户设置",-1)),q=r(()=>e("h3",null,"绑定母帐号",-1)),L={key:0,class:"form"},P=r(()=>e("p",null,null,-1)),R={key:1,class:"form"},T=["href"],U={key:1},z=x({__name:"SettingsView",setup(o){const _=V(),i=c(),t=c(""),l=c("");y(async()=>{await I()||await _.push("/login"),i.value=await C()});async function g(){const u=await A(t.value);u===void 0?(alert("激活码获取失败，请稍后重试。"),t.value=""):l.value=`${await k()}account bind ${u}`}function b(){B(),_.push("/login")}return(u,a)=>{var p;const v=h("mdui-text-field"),w=h("mdui-button");return i.value?(s(),n("div",E,[j,e("p",null,"当前登录: "+m((p=i.value)==null?void 0:p.nickname),1),q,l.value?(s(),n("div",R,[e("p",null,"请使用 "+m(t.value)+" 输入以下指令进行激活: ",1),d(v,{value:l.value,readonly:""},null,8,["value"]),e("a",{href:void b()},"我已完成绑定，退出登录",8,T)])):(s(),n("div",L,[d(v,{label:"帐号ID",value:t.value,onInput:a[0]||(a[0]=f=>t.value=f.target.value),clearable:""},null,8,["value"]),P,d(w,{onClick:a[1]||(a[1]=f=>g())},{default:S(()=>[D("绑定")]),_:1})]))])):(s(),n("h1",U,"加载中"))}}}),H=$(z,[["__scopeId","data-v-2d4fe8b3"]]);export{H as default};
